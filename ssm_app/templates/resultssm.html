<!doctype html>
<html lang="en">
    <head>
        <title>Supply Selection Method</title>
        <!-- Required meta tags -->
        <meta charset="utf-8" />
        <meta
            name="viewport"
            content="width=device-width, initial-scale=1, shrink-to-fit=no"
        />

        <!-- Bootstrap CSS v5.2.1 -->
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
            crossorigin="anonymous"
        />
        <style>
            .bg-purple{
                background-color:#9967CE;
            }
            .bg-purple2{
                background-color:#BA9CF6;
            }
            .bg-purple3{
                background-color:#CFB7FF;
            }
            .bg-purple4{
                background-color:#E7DDFF;
            }
        </style>
    </head>

    <body class='bg-purple4'>
        <header>
            <!-- place navbar here -->
            <nav
                class="navbar navbar-expand-sm navbar-dark bg-purple2"
            >
                <div class="container">
                    <a class="navbar-brand" href="{% url "home_beranda" %}">Transportation Problem Method</a>
                    <button
                        class="navbar-toggler d-lg-none"
                        type="button"
                        data-bs-toggle="collapse"
                        data-bs-target="#collapsibleNavId"
                        aria-controls="collapsibleNavId"
                        aria-expanded="false"
                        aria-label="Toggle navigation"
                    >
                        <span class="navbar-toggler-icon"></span>
                    </button>
                </div>
            </nav>
        </header>

        <main>
            <div class="p-3 mb-4 bg-purple4 rounded-3">
                <div class="container-fluid py-1">
                    <h1 class="mb-3 display-5 fw-bold text-center">Supply Selection Method</h1>
                    {% comment %} bagian form {% endcomment %}
                    <div class="row">
                        <div class="card">
                            <div class="card-body">
                            <div class="container">
                                <form action="{% url "home_submitksam" %}" method="post">
                                    {% csrf_token %}
                                    {% comment %} agar url nya mengikuti nama bottonnya, tulis method="post"
                                    setelah itu tambahkan csrf_token agar setiap input form memiliki token berbeda
                                    {% endcomment %}
                                    {% comment %} Title {% endcomment %}
                                    <div class="mb-3 row">
                                        <label
                                            for="inputName"
                                            class="col-3 col-form-label fw-bold"
                                            >Title</label
                                        >
                                        <div
                                            class="col-5"
                                        >
                                        <p> {{ title }}
                                        </p>       
                                        </div>
                                    </div>
                                    <h4 class="mb-3 fw-bold text-center">Final Solution Table</h4>

                                    {% comment %} Membuat tabel data {% endcomment %}
                                    <div id="table-container" class="table-responsive">
                                        <!-- Table will be inserted here -->
                                        <style>
                                            /* Gaya CSS untuk mengatur text-align: center; pada elemen <tr> */
                                            tr {
                                                text-align: center !important;
                                            }
                                        </style>
                                        
                                        {{html_table|safe}}
                                    </div>
                                       <p>
                                        Solution Value : {{min_cost}}
                                       </p>
                                    </div>
                                    </div>
                                </form>
                            </div>
                            
                            </div>
                        </div>
                        
                    </div>
                </div>
            </div>
        </main>
        
        <!-- Footer -->
<footer class="text-center text-lg-start bg-body-tertiary text-muted">
 
    <!-- Copyright -->
    <div class="text-center p-4 bg-white" >
      Â© 2024 Copyright:
      <a class="text-reset fw-bold" href="https://www.linkedin.com/in/maudydhiyauf/" target="_blank">Maudy Dhiya Ulhaq.F</a>
    </div>
    <!-- Copyright -->
  </footer>
  <!-- Footer -->
        <!-- Bootstrap JavaScript Libraries -->
        <script
            src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
            integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
            crossorigin="anonymous"
        ></script>

        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
            integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
            crossorigin="anonymous"
        ></script>

        <script>
            // Fungsi untuk mengubah nama kolom dan baris secara dinamis
            function renameColumnsAndRows() {
                var table = document.querySelector('.dataframe');
                var thead = table.querySelector('thead');
                var tbody = table.querySelector('tbody');

                // Menghitung jumlah kolom (exclude kolom terakhir)
                var numColumns = thead.querySelectorAll('th').length - 1;

                // Menghitung jumlah baris (exclude baris terakhir)
                var numRows = tbody.querySelectorAll('th').length;

                // Mengubah nama kolom (Destination)
                for (var i = 1; i <= numColumns-1; i++) {
                    thead.querySelector('th:nth-child(' + (i + 1) + ')').textContent = '{{columnames}} ' + i;
                }

                // Mengubah nama baris (Source)
                for (var j = 0; j < numRows - 1; j++) {
                    //tbody.querySelector('th:nth-child(1)').textContent = '{{rownames}} ' + (j + 1);
                    tbody.querySelector('tr:nth-child(' + (j + 1) + ') th').textContent = '{{rownames}} ' + (j + 1);
                }
            }

            // Panggil fungsi untuk mengubah nama kolom dan baris saat halaman dimuat
            document.addEventListener('DOMContentLoaded', function() {
                renameColumnsAndRows();
            });
        </script>
        
        
    </body>
</html>
